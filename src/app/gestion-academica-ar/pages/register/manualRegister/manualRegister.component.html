<div class="w-full px-6 md:px-10 py-10">
  <div class="bg-white shadow-lg rounded-2xl px-8 py-10 w-full">
    <h2 class="text-2xl font-bold text-gray-800 mb-8 uppercase border-b pb-2">Registrar nuevo alumno</h2>

    <form [formGroup]="alumnoForm" (ngSubmit)="onSubmit()" class="space-y-8">
      <!-- Fila 1: Código -->
      

      <!-- Fila 2: Nombre y Apellido -->
      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-semibold mb-1 text-gray-700">Nombre</label>
          <input type="text" formControlName="nombre"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none" />
          <p class="text-sm text-red-500 mt-1" *ngIf="getError('nombre')">{{ getError('nombre') }}</p>
        </div>
        <div>
          <label class="block text-sm font-semibold mb-1 text-gray-700">Código</label>
          <input type="text" formControlName="codigo"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none" />
          <p class="text-sm text-red-500 mt-1" *ngIf="getError('codigo')">{{ getError('codigo') }}</p>
        </div>
        <div>
          <label class="block text-sm font-semibold mb-1 text-gray-700">Apellido</label>
          <input type="text" formControlName="apellido"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none" />
          <p class="text-sm text-red-500 mt-1" *ngIf="getError('apellido')">{{ getError('apellido') }}</p>
        </div>
      </div>

      <!-- Fila 3: Fecha y DNI -->
      <div class="grid md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-semibold mb-1 text-gray-700">Fecha de nacimiento</label>
          <input type="date" formControlName="fechaNacimiento"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none" />
          <p class="text-sm text-red-500 mt-1" *ngIf="getError('fechaNacimiento')">{{ getError('fechaNacimiento') }}</p>
        </div>
        <div>
          <label class="block text-sm font-semibold mb-1 text-gray-700">DNI</label>
          <input type="text" formControlName="dni"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none" />
          <p class="text-sm text-red-500 mt-1" *ngIf="getError('dni')">{{ getError('dni') }}</p>
        </div>
      </div>

      <!-- Dirección -->
      <div>
        <label class="block text-sm font-semibold mb-1 text-gray-700">Dirección</label>
        <input type="text" formControlName="direccion"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none" />
        <p class="text-sm text-red-500 mt-1" *ngIf="getError('direccion')">{{ getError('direccion') }}</p>
      </div>

      <!-- Turno, Nivel, Grado, Sección -->
      <div class="grid md:grid-cols-4 gap-6">
        <div>
          <label class="block text-sm font-semibold mb-1 text-gray-700">Turno</label>
          <select formControlName="turno"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none">
            <option value="">Selecciona turno</option>
            <option *ngFor="let t of turnos" [value]="t.id_turno">
              {{ t.turno }} ({{ t.hora_inicio }} - {{ t.hora_fin }})
            </option>
          </select>
          <p class="text-sm text-red-500 mt-1" *ngIf="getError('turno')">{{ getError('turno') }}</p>
        </div>

        <div>
          <label class="block text-sm font-semibold mb-1 text-gray-700">Nivel</label>
          <select formControlName="nivel"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none">
            <option value="">Selecciona nivel</option>
            <option value="Inicial">Inicial</option>
            <option value="Primaria">Primaria</option>
            <option value="Secundaria">Secundaria</option>
          </select>
          <p class="text-sm text-red-500 mt-1" *ngIf="getError('nivel')">{{ getError('nivel') }}</p>
        </div>

        <div>
          <label class="block text-sm font-semibold mb-1 text-gray-700">Grado</label>
          <select formControlName="grado"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none">
            <option value="">Selecciona grado</option>
            <option *ngFor="let g of grados" [value]="g">{{ g }}</option>
          </select>
          <p class="text-sm text-red-500 mt-1" *ngIf="getError('grado')">{{ getError('grado') }}</p>
        </div>

        <div>
          <label class="block text-sm font-semibold mb-1 text-gray-700">Sección</label>
          <select formControlName="seccion"
            class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:outline-none">
            <option value="">Selecciona sección</option>
            <option *ngFor="let s of secciones" [value]="s">{{ s }}</option>
          </select>
          <p class="text-sm text-red-500 mt-1" *ngIf="getError('seccion')">{{ getError('seccion') }}</p>
        </div>
      </div>

      <!-- QR + Botón -->
      <div class="flex justify-between items-center flex-wrap gap-4">
        <div class="flex items-center gap-4 mt-6">
          <button
            type="button"
            (click)="generarQrUUID()"
            class="px-6 py-3 bg-gradient-to-r from-blue-600 to-blue-500 text-white font-semibold rounded-lg shadow-md hover:from-blue-700 hover:to-blue-600 transition duration-300"
          >
            Generar código QR
          </button>
          <span *ngIf="qrGenerado" class="text-green-600 font-medium animate-fade-in">
            ✅ Código QR generado correctamente
          </span>
        </div>

        <button type="submit"
          class="px-6 py-3 bg-purple-600 text-white rounded-xl hover:bg-purple-700 shadow-md transition-all">
          Registrar alumno
        </button>
      </div>
    </form>
  </div>
</div>
